<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>VapeShop - Clean & Easy</title>
  <style>
    /* Basic Reset & font */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    body {
      background: #f9f9f9;
      color: #222;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      line-height: 1.5;
    }
    header {
      background-color: #222;
      color: #fff;
      padding: 15px 30px;
      font-weight: 700;
      font-size: 1.8rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      user-select: none;
    }
    header .cart-icon {
      position: relative;
      font-size: 1.6rem;
      cursor: pointer;
    }
    header .cart-count {
      position: absolute;
      top: -8px;
      right: -10px;
      background: #f39c12;
      color: #000;
      font-weight: 700;
      padding: 2px 7px;
      border-radius: 50%;
      font-size: 0.8rem;
      user-select: none;
      min-width: 22px;
      text-align: center;
    }
    main {
      max-width: 1100px;
      margin: 30px auto;
      padding: 0 15px;
      display: flex;
      gap: 25px;
      flex-wrap: wrap;
      justify-content: center;
    }
    /* Product cards */
    .products {
      flex: 2;
      min-width: 320px;
    }
    .product-card {
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgb(0 0 0 / 0.1);
      padding: 18px;
      display: flex;
      gap: 20px;
      align-items: center;
      margin-bottom: 20px;
      transition: box-shadow 0.3s ease;
    }
    .product-card:hover {
      box-shadow: 0 4px 14px rgb(0 0 0 / 0.15);
    }
    .product-image {
      width: 140px;
      height: 140px;
      object-fit: contain;
      border-radius: 12px;
      background: #fefefe;
      border: 1px solid #ddd;
    }
    .product-info {
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      height: 140px;
    }
    .product-info h3 {
      font-size: 1.3rem;
      color: #111;
      margin-bottom: 8px;
    }
    .price {
      color: #e74c3c;
      font-weight: 700;
      font-size: 1.2rem;
      margin-bottom: 10px;
    }
    button.add-to-cart {
      align-self: flex-start;
      background-color: #f39c12;
      border: none;
      color: #000;
      padding: 10px 18px;
      border-radius: 6px;
      font-weight: 700;
      cursor: pointer;
      transition: background-color 0.2s ease;
    }
    button.add-to-cart:hover {
      background-color: #d87e04;
    }
    /* Cart Sidebar */
    .cart-sidebar {
      flex: 1;
      min-width: 280px;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgb(0 0 0 / 0.1);
      padding: 20px;
      max-height: 600px;
      display: flex;
      flex-direction: column;
      position: sticky;
      top: 30px;
    }
    .cart-sidebar h2 {
      margin-bottom: 15px;
      font-size: 1.5rem;
      border-bottom: 2px solid #f39c12;
      padding-bottom: 8px;
    }
    .cart-items {
      flex-grow: 1;
      overflow-y: auto;
      margin-bottom: 15px;
    }
    .cart-item {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
      gap: 12px;
      border-bottom: 1px solid #eee;
      padding-bottom: 12px;
    }
    .cart-item img {
      width: 60px;
      height: 60px;
      object-fit: contain;
      border-radius: 8px;
      background: #fafafa;
      border: 1px solid #ddd;
    }
    .cart-item-info {
      flex-grow: 1;
    }
    .cart-item-info h4 {
      font-size: 1rem;
      color: #111;
      margin-bottom: 4px;
    }
    .cart-item-info p {
      font-size: 0.9rem;
      color: #666;
    }
    .cart-item-actions button {
      background: #e74c3c;
      border: none;
      color: white;
      padding: 5px 9px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: background-color 0.2s ease;
    }
    .cart-item-actions button:hover {
      background: #c0392b;
    }
    .cart-total {
      font-size: 1.4rem;
      font-weight: 700;
      border-top: 2px solid #ddd;
      padding-top: 12px;
      color: #222;
    }
    .checkout-btn {
      margin-top: 15px;
      background: #f39c12;
      border: none;
      padding: 14px 16px;
      border-radius: 8px;
      font-weight: 700;
      cursor: pointer;
      width: 100%;
      font-size: 1.1rem;
      transition: background-color 0.2s ease;
      color: #000;
    }
    .checkout-btn:disabled {
      background: #ccc;
      cursor: not-allowed;
      color: #666;
    }
    .checkout-btn:hover:not(:disabled) {
      background-color: #d87e04;
    }
    /* Reviews */
    .reviews-section {
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgb(0 0 0 / 0.1);
      padding: 20px;
      max-width: 800px;
      margin: 40px auto;
    }
    .reviews-section h2 {
      font-size: 1.6rem;
      margin-bottom: 18px;
      border-bottom: 2px solid #f39c12;
      padding-bottom: 8px;
    }
    .review {
      border-bottom: 1px solid #eee;
      padding: 12px 0;
    }
    .review:last-child {
      border-bottom: none;
    }
    .review-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 6px;
    }
    .reviewer-name {
      font-weight: 700;
      color: #222;
    }
    .review-rating {
      color: #f39c12;
      font-size: 1.1rem;
    }
    .review-text {
      color: #555;
      font-size: 1rem;
      line-height: 1.4;
      margin-left: 4px;
    }
    /* Notification */
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      background-color: #222;
      color: #fff;
      padding: 14px 22px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.4s ease;
      z-index: 1000;
      font-weight: 600;
      min-width: 240px;
      text-align: center;
      user-select: none;
    }
    .notification.show {
      opacity: 1;
      pointer-events: auto;
    }
    /* Responsive */
    @media (max-width: 900px) {
      main {
        flex-direction: column;
        align-items: center;
      }
      .cart-sidebar {
        max-height: none;
        position: relative;
        top: auto;
        margin-top: 30px;
        width: 100%;
      }
    }
  </style>
</head>
<body>

  <header>
    VapeShop
    <div class="cart-icon" aria-label="Shopping Cart" tabindex="0">
      ðŸ›’
      <span class="cart-count" id="cart-count">0</span>
    </div>
  </header>

  <main>
    <section class="products" id="products">
      <!-- Products inserted here -->
    </section>

    <aside class="cart-sidebar" aria-label="Shopping Cart">
      <h2>Your Cart</h2>
      <div class="cart-items" id="cart-items">
        <p>Your cart is empty.</p>
      </div>
      <div class="cart-total" id="cart-total">Total: $0.00</div>
      <button class="checkout-btn" id="checkout-btn" disabled>Checkout</button>
    </aside>
  </main>

  <section class="reviews-section" aria-label="Product Reviews">
    <h2>Customer Reviews</h2>
    <div id="reviews-list">
      <!-- Reviews inserted here -->
    </div>
  </section>

  <div class="notification" id="notification"></div>

<script>
  // Vape Products Data
  const products = [
    {
      id: 101,
      name: "VapePro X100 Mod",
      price: 79.99,
      image: "https://cdn.shopify.com/s/files/1/0281/2659/7614/products/vaporesso-target-pm80-se_1200x1200.jpg"
    },
    {
      id: 102,
      name: "CloudMaster Pod Kit",
      price: 49.99,
      image: "https://vaped.com.ua/image/cache/catalog/product/vape/relx/relx-classic-1000x1000.jpg"
    },
    {
      id: 103,
      name: "Nicotina Menthol E-liquid 60ml",
      price: 24.99,
      image: "https://vapeguide.eu/wp-content/uploads/2020/10/menthol-eliquid-60ml.jpg"
    },
    {
      id: 104,
      name: "Smooth Tobacco E-liquid 120ml",
      price: 39.99,
      image: "https://cdn.shopify.com/s/files/1/0169/6286/products/tobacco-flavor-eliquid_1200x1200.jpg"
    }
  ];

  // Reviews Data
  const reviews = [
    {
      id: 201,
      name: "Jake M.",
      rating: 5,
      text: "VapePro X100 is the best mod I've ever usedâ€”smooth clouds and excellent battery life!"
    },
    {
      id: 202,
      name: "Samantha K.",
      rating: 4,
      text: "CloudMaster Pod is compact and perfect for on-the-go vaping. Flavor is rich and consistent."
    },
    {
      id: 203,
      name: "Carlos R.",
      rating: 5,
      text: "The menthol e-liquid is refreshing and hits perfectly. Highly recommend for menthol lovers!"
    }
  ];

  const productsContainer = document.getElementById('products');
  const cartItemsContainer = document.getElementById('cart-items');
  const cartCount = document.getElementById('cart-count');
  const cartTotal = document.getElementById('cart-total');
  const checkoutBtn = document.getElementById('checkout-btn');
  const notification = document.getElementById('notification');
  const reviewsList = document.getElementById('reviews-list');

  let cart = {};

  // Format price as $xx.xx
  function formatPrice(num) {
    return `$${num.toFixed(2)}`;
  }

  // Show notification
  function showNotification(message) {
    notification.textContent = message;
    notification.classList.add('show');
    setTimeout(() => {
      notification.classList.remove('show');
    }, 2500);
  }

  // Render products
  function renderProducts() {
    productsContainer.innerHTML = '';
    products.forEach(product => {
      const card = document.createElement('article');
      card.className = 'product-card';
      card.innerHTML = `
        <img class="product-image" src="${product.image}" alt="${product.name}" loading="lazy" />
        <div class="product-info">
          <h3>${product.name}</h3>
          <div class="price">${formatPrice(product.price)}</div>
          <button class="add-to-cart" data-id="${product.id}">Add to Cart</button>
        </div>
      `;
      productsContainer.appendChild(card);
    });
  }

  // Render cart
  function renderCart() {
    cartItemsContainer.innerHTML = '';
    const cartEntries = Object.values(cart);

    if (cartEntries.length === 0) {
      cartItemsContainer.innerHTML = '<p>Your cart is empty.</p>';
      cartCount.textContent = '0';
      cartTotal.textContent = 'Total: $0.00';
      checkoutBtn.disabled = true;
      return;
    }

    cartEntries.forEach(item => {
      const cartItem = document.createElement('div');
      cartItem.className = 'cart-item';
      cartItem.innerHTML = `
        <img src="${item.image}" alt="${item.name}" />
        <div class="cart-item-info">
          <h4>${item.name}</h4>
          <p>Qty: ${item.quantity} Ã— ${formatPrice(item.price)}</p>
        </div>
        <div class="cart-item-actions">
          <button aria-label="Remove ${item.name}" data-id="${item.id}">&times;</button>
        </div>
      `;
      cartItemsContainer.appendChild(cartItem);
    });

    const totalPrice = cartEntries.reduce((sum, item) => sum + item.price * item.quantity, 0);
    cartCount.textContent = cartEntries.reduce((sum, item) => sum + item.quantity, 0);
    cartTotal.textContent = `Total: ${formatPrice(totalPrice)}`;
    checkoutBtn.disabled = false;
  }

  // Render reviews
  function renderReviews() {
    reviewsList.innerHTML = '';
    reviews.forEach(review => {
      const reviewDiv = document.createElement('div');
      reviewDiv.className = 'review';
      reviewDiv.innerHTML = `
        <div class="review-header">
          <span class="reviewer-name">${review.name}</span>
          <span class="review-rating">${'â˜…'.repeat(review.rating)}${'â˜†'.repeat(5 - review.rating)}</span>
        </div>
        <p class="review-text">${review.text}</p>
      `;
      reviewsList.appendChild(reviewDiv);
    });
  }

  // Add to cart handler
  function addToCart(productId) {
    const product = products.find(p => p.id == productId);
    if (!product) return;

    if (cart[productId]) {
      cart[productId].quantity++;
    } else {
      cart[productId] = {...product, quantity: 1};
    }
    renderCart();
    showNotification(`Added "${product.name}" to cart.`);
  }

  // Remove from cart handler
  function removeFromCart(productId) {
    if (!cart[productId]) return;
    const productName = cart[productId].name;
    delete cart[productId];
    renderCart();
    showNotification(`Removed "${productName}" from cart.`);
  }

  // Checkout handler (dummy)
  function checkout() {
    if (Object.keys(cart).length === 0) return;
    showNotification('Checkout is currently not implemented.');
  }

  // Event Listeners
  productsContainer.addEventListener('click', e => {
    if (e.target.classList.contains('add-to-cart')) {
      addToCart(e.target.dataset.id);
    }
  });

  cartItemsContainer.addEventListener('click', e => {
    if (e.target.tagName === 'BUTTON') {
      removeFromCart(e.target.dataset.id);
    }
  });

  checkoutBtn.addEventListener('click', checkout);

  // Initial render
  renderProducts();
  renderCart();
  renderReviews();
</script>

</body>
</html>
